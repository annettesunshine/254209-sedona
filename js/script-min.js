var button=document.querySelector(".open-button"),popup=document.querySelector(".modal-search"),form=popup.querySelector("form"),arrivalDate=document.querySelector("[name=arrival-date]"),departureDate=document.querySelector("[name=departure-date]"),adult=document.querySelector("[name=adult-number]"),child=document.querySelector("[name=child-number]"),isStorageSupport=!0,storageAdult="",storageChild="";try{storageAdult=localStorage.getItem("adult"),storageChild=localStorage.getItem("child")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("modal-show"),popup.classList.remove("modal-error"),storageChild&&(adult.value=storageAdult,child.value=storageChild),arrivalDate.focus()}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adult.value&&child.value?isStorageSupport&&(localStorage.setItem("adult",adult.value),localStorage.setItem("child",child.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))});
